---
layout: post
title: "SQLite指南"
description: ""
category: 
tags: [Database]
---
{% include JB/setup %}

## 基本概念

0. 结构化查询语言(SQL)
1. 数据库(database): 保存有组织的数据容器(一个或一组文件)
2. 数据库管理系统(DBMS)(数据库软件)
3. 表(table)(某种特定类型数据的结构化清单)
4. 模式(schema)(关于数据库和表布局及特性的信息)
5. 列(column)(表中的一个字段)
6. 行(row)(表中的一个记录)
7. 主键(primary key)(一列或一组列，其值能够唯一标示表中的一行)
8. 外键
9. 字句(clause)(SQL语句由字句构成，一个字句通常由一个关键字加上所提供的数据组成)
10. 操作符(operator) 用来联结或改变WHERE字句中的字句的关键字
11. 通配符(wildcard) 用来匹配值的一部分的特殊字符
12. 搜索模式(search pattern) 由字面值、通配符或两者组合构成的搜索条件。
13. 谓词(predicate) 

## 注释

### 行内注释 --
	
	SELECT name   -- 注释
	FROM Class;

### 单行注视 #

	# 注释
	SELECT name FROM Class;
	
### 多行注视 /**/

	/* 注释
	注释 *／
	SELECT name FROM Class;

## 检索数据

### SELECT语句

	SELECT prod_name FROM Products; -- 从Products中检索prod_name的列

	SELECT prod_id, prod_name FROM Products; -- 从Products中检索prod_id, prod_name的列

	SELECT * FROM Products; -- 从Products中检索所有的列

	SELECT DISTINCT vend_id FROM Products; -- 从Products中检索vend_id的列并去重。

	SELECT prod_name FROM Products LIMIT 5; -- 从Products中检索prod_name的列中的前5行

	SELECT prod_name FROM Products LIMIT 5 OFFSET 5; -- 从Products中检索prod_name的列中的第5行起5行数据


### ORDER BY字句

#### 按列名排序

	SELECT prod_name FROM Products ORDER BY prod_name; -- 从Products中检索prod_name的列并按prod_name排序

	SELECT prod_name FROM Products ORDER BY prod_price, prod_name; -- 从Products中检索prod_name的列并先按prod_price, 后按prod_name排序

#### 按列位置排序

	SELECT prod_name, prod_id, prod_price FROM Products ORDER BY 2, 3; -- 从Products中检索prod_name的列并先按选择列2(prod_id), 后按选择列3(prod_price)排序

#### 排序方式

	SELECT prod_name FROM Products ORDER BY prod_name DESC; -- 从Products中检索prod_name的列并按prod_name 降序排序

	SELECT prod_name FROM Products ORDER BY prod_name DESC, prod_price; -- 从Products中检索prod_name的列并按prod_name 降序排序

### WHERE字句

	SELECT prod_name FROM Products WHERE pord_price = 3.49; -- 从Products中检索 pord_price = 3.49 的 prod_name的列

#### WHERE字句操作符
	
	操作符 | 说明
	=    | 等于
	<>   | 不等于
	!=  | 不等于
	<   |  小于
	<=   |  小于等于
	!    |  不小于
	>    |   大于
	>=   |   大于等于
	!>   |  不大于
	BETWEEN |   指定的两个值之间
	IS NULL |  为NULL值

	SELECT prod_name FROM Products WHRER vend_id <> 'DDDDD'; -- 从Products中检索 vend_id 不等于“DDDDD” 的 prod_name的列

	SELECT prod_name FROM Products WHRER prod_price BETWEEN 5 AND 10; -- 从Products中检索 prod_price 在 [5, 10] 的 prod_name的列

	SELECT prod_name FROM Products WHRER prod_price IS NULL; -- 从Products中检索 prod_price 为NULL 的 prod_name的列

#### 组合WHERE字句

	SELECT prod_name FROM Products WHRER prod_price > 10 AND prod_price < 20; -- 从Products中检索 prod_price (10, 20) 的 prod_name的列

	SELECT prod_name FROM Products WHRER prod_price < 10 OR prod_price > 20; -- 从Products中检索 prod_price 小于10，或大于20 的 prod_name的列

	SELECT prod_name FROM Products WHRER prod_price < 10 OR prod_price > 20 AND prod_name = 'ZZZZ';

	SELECT prod_name FROM Products WHRER (prod_price < 10 OR prod_price > 20) AND prod_name = 'ZZZZ';

	SELECT prod_name FROM Products WHRER vend_id IN ('ZZZ', 'JHHHH'); -- 从Products中检索 vend_id 为 ZZZ或JHHHH 的 prod_name的列

	SELECT prod_name FROM Products WHRER NOT vend_id = 'DDDD'; -- 从Products中检索 vend_id除去为DDDD 的 prod_name的列

### LIKE操作符
	
	
	
## 注意事项

1. 多条SQL语句必须以分号(;)间隔
2. SQL语句不区分大小写
3. 处理SQL语句时，其中所有的空格都被忽略
4. DISTINCT必须放在列名的前面，作用于所有的列。
5. 第一个被检索的行是第0行，LIMIT 1 OFFSET 1; 会从第2行起
6. ORDER BY字句，应保证是SELECT语句中最后一条字句
7. DESC关键字只应用其前面的列名, 想多列降序排列，必须每一列指定DESC
8. BETWEEN匹配范围中的所有值，包括开始结束值。
9. AND 和 OR 同时存在时，AND优先级更高。

